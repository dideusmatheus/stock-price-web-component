import{r as o,c as t,h as e}from"./p-60af099a.js";const s="GP5T9C2PZEMMH9AZ";const a=":host{display:block;font-family:'Inter', sans-serif;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 4px 6px rgba(0, 0, 0, 0.1);margin:2rem auto;padding:1.5rem;max-width:400px;background-color:#ffffff;transition:transform 0.2s ease, box-shadow 0.2s ease}:host(:hover){transform:translateY(-2px);box-shadow:0 6px 12px rgba(0, 0, 0, 0.15)}form input{font:inherit;color:#333333;padding:0.5rem;margin-bottom:1rem;width:calc(100% - 1rem);border:1px solid #ccc;border-radius:6px;background-color:#f9f9f9;transition:border-color 0.2s ease, box-shadow 0.2s ease}form input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 4px rgba(98, 0, 238, 0.4)}form button{font:inherit;padding:0.5rem 1rem;border:none;border-radius:6px;background-color:var(--color-primary);color:#ffffff;cursor:pointer;transition:background-color 0.3s ease, transform 0.2s ease;width:100%}form button:hover{background-color:var(--color-second);transform:translateY(-2px)}form button:focus{outline:none;box-shadow:0 0 6px rgba(98, 0, 238, 0.5)}form button:active{transform:translateY(1px)}form button:disabled{background-color:#ccc;cursor:not-allowed}.item{padding:1rem 0}.info{padding-top:1rem;display:grid;gap:15px}.item-card{padding:15px;border:1px solid #ddd;border-radius:8px;background-color:#fff;transition:transform 0.2s, box-shadow 0.2s}.item-card:hover{transform:translateY(-5px);box-shadow:0 6px 10px rgba(0, 0, 0, 0.15)}.item-header{display:flex;justify-content:space-between;margin-bottom:10px;font-size:18px;font-weight:bold}.item-symbol{color:var(--color-primary)}.item-name{color:#555}.item-details div{margin-bottom:5px;font-size:14px;color:#666}.no-results{font-size:16px;color:#999;text-align:center}";const r=a;const i=class{constructor(e){o(this,e);this.mdsymbolSelected=t(this,"mdsymbolSelected",7);this.searchResponse=[];this.error=""}async onFindStocks(o){o.preventDefault();const t=this.stockNameInput.value;try{const o=await fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${t}&apikey=${s}`);if(!o.ok){throw new Error("Error fetching data. Please try again later.")}const e=await o.json();if(!e["bestMatches"]||Object.keys(e["bestMatches"]).length===0){throw new Error("No results found.")}this.searchResponse=e["bestMatches"]}catch(o){this.error=o.message;this.searchResponse=null}}formatValue(o){return o==="null"||o===undefined?"N/A":o}onSelectSymbol(o){const t=o["1. symbol"];this.mdsymbolSelected.emit(t)}clearSearchResponse(){if(this.stockNameInput.value.trim()===""){this.searchResponse=null}}render(){return[e("form",{key:"bdd9723a47096d71f45305c7a1b4232143116185",onSubmit:this.onFindStocks.bind(this)},e("input",{key:"0ed78c16d02f36d2a1f6142240f234a9d045b8fa",id:"stock-symbol",ref:o=>this.stockNameInput=o,onInput:this.clearSearchResponse.bind(this),placeholder:"Stock Finder"}),e("button",{key:"9d6f65774e5c277fac37dbb95d26002f1000763f",type:"submit"},"Fetch")),e("div",{key:"bc40d4a99bd93ae7ee8403dd2cbc0d6c049311d5",class:"info"},this.searchResponse&&this.searchResponse.length>0?this.searchResponse.map((o=>e("div",{class:"item-card",onClick:this.onSelectSymbol.bind(this,o)},e("div",{class:"item-header"},e("span",{class:"item-symbol"}," ",this.formatValue(o["1. symbol"])," "),e("span",{class:"item-name"}," ",this.formatValue(o["2. name"])," ")),e("div",{class:"item-details"},e("div",null,e("strong",null,"Type:")," ",this.formatValue(o["3. type"])," "),e("div",null,e("strong",null,"Region:")," ",this.formatValue(o["4. region"])," "),e("div",null,e("strong",null,"Currency:")," ",this.formatValue(o["8. currency"])," "))))):this.error&&e("p",{class:"no-results"},this.error))]}};i.style=r;const n=":host{display:block;font-family:'Inter', sans-serif;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 4px 6px rgba(0, 0, 0, 0.1);margin:2rem auto;padding:1.5rem;max-width:400px;background-color:#ffffff;transition:transform 0.2s ease, box-shadow 0.2s ease}:host(:hover){transform:translateY(-2px);box-shadow:0 6px 12px rgba(0, 0, 0, 0.15)}form input{font:inherit;color:#333333;padding:0.5rem;margin-bottom:1rem;width:calc(100% - 1rem);border:1px solid #ccc;border-radius:6px;background-color:#f9f9f9;transition:border-color 0.2s ease, box-shadow 0.2s ease}form input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 4px rgba(98, 0, 238, 0.4)}form button{font:inherit;padding:0.5rem 1rem;border:none;border-radius:6px;background-color:var(--color-primary);color:#ffffff;cursor:pointer;transition:background-color 0.3s ease, transform 0.2s ease;width:100%}form button:hover{background-color:var(--color-second);transform:translateY(-2px)}form button:focus{outline:none;box-shadow:0 0 6px rgba(98, 0, 238, 0.5)}form button:active{transform:translateY(1px)}form button:disabled{background-color:#ccc;cursor:not-allowed}.content{padding-top:1rem}.info{display:flex}.info-title{width:45%;margin:0;font-weight:bold;color:var(--color-primary)}.info-value{width:55%;margin:0;padding-left:1rem}.error{padding-top:1rem;color:red;font-weight:bold;font-size:1rem;text-align:center}";const c=n;const d=class{constructor(t){o(this,t);this.stockInput=null;this.objResponse=null;this.stockUserInput="";this.stockInputValid=false;this.error="";this.loading=false;this.stockSymbol=""}stockSymbolChanged(o,t){if(o!==t){this.stockUserInput=o;this.stockInputValid=true;this.fetchStockPrice()}}validateInput(o){return/^[a-zA-Z0-9]+$/.test(o.trim())}onUserInput(o){this.stockUserInput=o.target.value;if(!this.stockUserInput.trim()){this.stockInputValid=false;this.error=null;this.objResponse=null;return}this.stockInputValid=this.validateInput(this.stockUserInput);this.error=this.stockInputValid?null:"The symbol must contain only letters and numbers.";this.objResponse=null}onFetchStockPrice(o){o.preventDefault();if(!this.stockInputValid||!this.stockUserInput.trim()){this.error="Please provide a stock symbol.";return}this.loading=true;this.error=null;this.fetchStockPrice()}async fetchStockPrice(){try{const o=await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${this.stockUserInput}&apikey=${s}`);if(!o.ok){throw new Error("Error fetching data. Please try again later.")}const t=await o.json();if(!t["Global Quote"]||Object.keys(t["Global Quote"]).length===0){throw new Error("Invalid or not found symbol.")}this.objResponse=t}catch(o){this.error=o.message;this.objResponse=null;this.loading=false}finally{this.loading=false}}formatDollar(o){const t=parseFloat(o);if(!o){return"N/A"}const e=t.toString();const[s,a=""]=e.split(".");const r=a.substring(0,2).padEnd(2,"0");return`$${s},${r}`}formatDate(o){if(!o){return"N/A"}const[t,e,s]=o.split("-");return`${s}/${e}/${t}`}componentWillLoad(){console.log("componentWillLoad")}componentDidLoad(){if(this.stockSymbol){this.stockUserInput=this.stockSymbol;this.stockInputValid=this.validateInput(this.stockSymbol);if(this.stockInputValid){this.fetchStockPrice()}else{this.error="Invalid stock symbol."}}}componentWillUpdate(){console.log("componentWillUpdate")}componentDidUpdate(){console.log("componentDidUpdate")}onStockSymbolSelected(o){if(o.detail&&o.detail!==this.stockSymbol){this.stockSymbol=o.detail}}render(){var o,t;let s=null;if(this.error){s=e("p",{key:"1ed10321f99fd851dccf2eff13cebf316d9685aa",class:"error"},this.error)}else if(this.objResponse){const a=(o=this.objResponse)===null||o===void 0?void 0:o["Global Quote"];const r=(t=a===null||a===void 0?void 0:a["01. symbol"])!==null&&t!==void 0?t:"N/A";const i=this.formatDollar(a===null||a===void 0?void 0:a["05. price"]);const n=this.formatDate(a===null||a===void 0?void 0:a["07. latest trading day"]);const c=this.formatDollar(a===null||a===void 0?void 0:a["02. open"]);const d=this.formatDollar(a===null||a===void 0?void 0:a["03. high"]);const l=this.formatDollar(a===null||a===void 0?void 0:a["04. low"]);s=e("div",{key:"9b6b1eb31d734ceb8c199934dcd83ada377c4fc5",class:"content"},e("div",{key:"342286c2837860d4e47918895b5a3219ec55004e",class:"info"},e("p",{key:"054d76955428ae041f3d94eecb938a58cf2fb1f1",class:"info-title"},"Symbol:"),e("p",{key:"ae813a2c0fc6801851ebee2c650b762a281a753a",class:"info-value"},r)),e("div",{key:"ff612ed3eebf9a6caadfbee714ba6552e8b856b3",class:"info"},e("p",{key:"315a8af19d41b83e945cc5c0cb07133afcc2614b",class:"info-title"},"Price:"),e("p",{key:"7f3a2ba0b353f6b08af55d249d7c920d0de7b012",class:"info-value"},i)),e("div",{key:"6eb77d720745856fca5fbf2744f0fb528bda2700",class:"info"},e("p",{key:"90a1fd530388aadd10946b52441c97a8d770f891",class:"info-title"},"Open:"),e("p",{key:"0a9adbd4a868d57bb4a242d4e91efe489a0c8e08",class:"info-value"},c)),e("div",{key:"ac8e7ad45c5802ee8bec452545921738644f80e3",class:"info"},e("p",{key:"b8641f4dbec65cb5a3e4ae031f9fa01fcbebf6da",class:"info-title"},"High:"),e("p",{key:"fe52c09add88374c996170805f3d0f8df61697a2",class:"info-value"},d)),e("div",{key:"199604cd8016e422d5a383040ac4d4ba237ca5ac",class:"info"},e("p",{key:"f89f6a6aaffc74e1a52c7584e7f3ecca07fe80f7",class:"info-title"},"Low:"),e("p",{key:"39767f8f0b14d610d142ec8f01c5cdecf536a264",class:"info-value"},l)),e("div",{key:"7d479d34a131fdec81f8a804717f7a385389c717",class:"info"},e("p",{key:"879f0b66520d67c5fc0fa43415de63bf7b838fc5",class:"info-title"},"Latest trading day:"),e("p",{key:"b8e4998258cb1e66d32c87f0ae02cc0ec0245e2b",class:"info-value"},n)))}return e("div",{key:"63c32d21fcf70992b49c040d02b082a174bea3d6"},e("form",{key:"aaae77b402d34c3ed8e8c29b6f6b5666bde1543c",onSubmit:this.onFetchStockPrice.bind(this)},e("input",{key:"642c631323c78af98e1c4c7183949e96912cf72e",id:"stock-symbol",ref:o=>this.stockInput=o,value:this.stockUserInput,onInput:this.onUserInput.bind(this),placeholder:"Enter stock symbol"}),e("button",{key:"f238ccda546dd26c42d724d055f74e0bb3bd9145",type:"submit",disabled:!this.stockInputValid||this.loading,"aria-busy":this.loading,"aria-disabled":!this.stockInputValid||this.loading},this.loading?"Loading...":"Fetch")),e("div",{key:"09c7a30859c567608564e0bf9e53438e919777e2"},s))}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}};d.style=c;export{i as md_stock_finder,d as md_stock_price};
//# sourceMappingURL=p-06d531b6.entry.js.map