{"file":"md-stock-finder.entry.esm.js","mappings":"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","names":[],"sources":["src/components/stock-finder/stock-finder.css?tag=md-stock-finder&encapsulation=shadow","src/components/stock-finder/stock-finder.tsx"],"sourcesContent":[":host {\n  display: block;\n  font-family: 'Inter', sans-serif;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  margin: 2rem auto;\n  padding: 1.5rem;\n  max-width: 400px;\n  background-color: #ffffff;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n:host(:hover) {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n}\n\nform input {\n  font: inherit;\n  color: #333333;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n  width: calc(100% - 1rem);\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  background-color: #f9f9f9;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n\n}\n\nform input:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 4px rgba(98, 0, 238, 0.4);\n}\n\nform button {\n  font: inherit;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 6px;\n  background-color: var(--color-primary);\n  color: #ffffff;\n  cursor: pointer;\n  transition: background-color 0.3s ease, transform 0.2s ease;\n  width: 100%;\n}\n\nform button:hover {\n  background-color: var(--color-second);\n  transform: translateY(-2px);\n}\n\nform button:focus {\n  outline: none;\n  box-shadow: 0 0 6px rgba(98, 0, 238, 0.5);\n}\n\nform button:active {\n  transform: translateY(1px);\n}\n\nform button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.item{\n  padding: 1rem 0;\n}\n\n.info {\n  padding-top: 1rem;\n  display: grid;\n  gap: 15px;\n}\n\n.item-card {\n  padding: 15px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  /* box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); */\n  background-color: #fff;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n\n.item-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\n}\n\n.item-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.item-symbol {\n  color: var(--color-primary);\n}\n\n.item-name {\n  color: #555;\n}\n\n.item-details div {\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #666;\n}\n\n.no-results {\n  font-size: 16px;\n  color: #999;\n  text-align: center;\n}\n","import { Component, h, State, Event, EventEmitter } from '@stencil/core';\r\n\r\nimport { AV_API_KEY } from '../../global/global';\r\n\r\n\r\n@Component({\r\n  tag: 'md-stock-finder',\r\n  styleUrl: 'stock-finder.css',\r\n  shadow: true,\r\n})\r\nexport class StockFinder {\r\n  stockNameInput:  HTMLInputElement;\r\n\r\n  @State() searchResponse: any[] = [];\r\n  @State() error: string = '';\r\n\r\n  @Event({bubbles: true, composed: true}) mdsymbolSelected: EventEmitter<any>;\r\n\r\n  async onFindStocks(event: Event){\r\n    event.preventDefault();\r\n\r\n    const stockName = this.stockNameInput.value;\r\n\r\n    try {\r\n      const res = await fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockName}&apikey=${AV_API_KEY}`);\r\n\r\n      if (!res.ok) {\r\n        throw new Error('Error fetching data. Please try again later.');\r\n      }\r\n\r\n      const parsedRes = await res.json();\r\n      if (!parsedRes['bestMatches'] || Object.keys(parsedRes['bestMatches']).length === 0) {\r\n        throw new Error('No results found.');\r\n      }\r\n\r\n      this.searchResponse = parsedRes['bestMatches'];\r\n    } catch (err) {\r\n      this.error = err.message;\r\n      this.searchResponse = null;\r\n    }\r\n  }\r\n\r\n  private formatValue(value: any): string {\r\n    return value === 'null' || value === undefined ? 'N/A' : value;\r\n  }\r\n\r\n  onSelectSymbol(stock: any){\r\n    const stockSymbol = stock['1. symbol'];\r\n    this.mdsymbolSelected.emit(stockSymbol);\r\n  }\r\n\r\n  clearSearchResponse(){\r\n    if (this.stockNameInput.value.trim() === '') {\r\n      this.searchResponse = null;\r\n      this.error = '';\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return [\r\n      <form onSubmit={this.onFindStocks.bind(this)}>\r\n        <input id=\"stock-symbol\" ref={(el) => (this.stockNameInput = el)} onInput={this.clearSearchResponse.bind(this)} placeholder=\"Stock Finder\"/>\r\n        <button type=\"submit\">Fetch</button>\r\n      </form>,\r\n      <div class=\"info\">\r\n        {this.searchResponse && this.searchResponse.length > 0 ? (this.searchResponse.map(item => (\r\n            <div class=\"item-card\" onClick={this.onSelectSymbol.bind(this, item)}>\r\n              <div class=\"item-header\">\r\n                <span class=\"item-symbol\"> {this.formatValue(item['1. symbol'])} </span>\r\n                <span class=\"item-name\"> {this.formatValue(item['2. name'])} </span>\r\n              </div>\r\n              <div class=\"item-details\">\r\n                <div><strong>Type:</strong> {this.formatValue(item['3. type'])} </div>\r\n                <div><strong>Region:</strong> {this.formatValue(item['4. region'])} </div>\r\n                <div><strong>Currency:</strong> {this.formatValue(item['8. currency'])} </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          this.error && <p class=\"no-results\">{this.error}</p>\r\n        )}\r\n      </div>\r\n    ];\r\n  }\r\n  \r\n}\r\n"],"version":3}